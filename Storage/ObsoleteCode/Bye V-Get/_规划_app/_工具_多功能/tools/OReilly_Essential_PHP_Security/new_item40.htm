<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>


   <title>6.2. &#36828;&#31243;&#25991;&#20214;&#39118;&#38505;</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">6.2. &#36828;&#31243;&#25991;&#20214;&#39118;&#38505;</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="introduction.htm">Top</a>&nbsp;
     <a href="new_item39.htm">Previous</a>&nbsp;
     <a href="new_item41.htm">Next</a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p style="line-height: 1.50;">6.2. &#36828;&#31243;&#25991;&#20214;&#39118;&#38505;</p>
<p style="line-height: 1.50;">  &nbsp; PHP&#26377;&#19968;&#20010;&#37197;&#32622;&#36873;&#39033;&#21483;allow_url_fopen&#65292;&#35813;&#36873;&#39033;&#40664;&#35748;&#26159;&#26377;&#25928;&#30340;&#12290;&#23427;&#20801;&#35768;&#20320;&#25351;&#21521;&#35768;&#22810;&#31867;&#22411;&#30340;&#36164;&#28304;&#65292;&#24182;&#20687;&#26412;&#22320;&#25991;&#20214;&#19968;&#26679;&#22788;&#29702;&#12290;&#20363;&#22914;&#65292;&#36890;&#36807;&#35835;&#21462;URL&#20320;&#21487;&#20197;&#21462;&#24471;&#26576;&#19968;&#20010;&#39029;&#38754;&#30340;&#20869;&#23481;&#65288;HTML&#65289;&#65306;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;?php</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $contents = file_get_contents('http://example.org/');</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; ?&gt;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &#27491;&#22914;&#31532;&#20116;&#31456;&#25152;&#35752;&#35770;&#30340;&#37027;&#26679;&#65292;&#24403;&#34987;&#27745;&#26579;&#25968;&#25454;&#29992;&#20110;include&#21644;require&#30340;&#25991;&#20214;&#25351;&#21521;&#26102;&#65292;&#20250;&#20135;&#29983;&#20005;&#37325;&#28431;&#27934;&#12290;&#23454;&#38469;&#19978;&#65292;&#25105;&#35748;&#20026;&#36825;&#31181;&#28431;&#27934;&#26159;PHP&#24212;&#29992;&#20013;&#26368;&#21361;&#38505;&#30340;&#28431;&#27934;&#20043;&#19968;&#65292;&#36825;&#26159;&#22240;&#20026;&#23427;&#20801;&#35768;&#25915;&#20987;&#32773;&#25191;&#34892;&#20219;&#24847;&#20195;&#30721;&#12290;</p>
<p style="line-height: 1.50;">  &nbsp; &#23613;&#31649;&#20005;&#37325;&#24615;&#22312;&#32423;&#21035;&#19978;&#35201;&#24046;&#19968;&#28857;&#65292;&#20294;&#22312;&#19968;&#20010;&#26631;&#20934;&#25991;&#20214;&#31995;&#32479;&#20989;&#25968;&#20013;&#20351;&#29992;&#20102;&#34987;&#27745;&#26579;&#25968;&#25454;&#30340;&#35805;&#65292;&#20250;&#26377;&#31867;&#20284;&#30340;&#28431;&#27934;&#20135;&#29983;&#65306;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;?php</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $contents = file_get_contents($_GET['filename']);</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; ?&gt;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &#35813;&#20363;&#20351;&#29992;&#25143;&#33021;&#25805;&#32437;file_get_contents( )&#30340;&#34892;&#20026;&#65292;&#20197;&#20351;&#23427;&#33719;&#21462;&#36828;&#31243;&#36164;&#28304;&#30340;&#20869;&#23481;&#12290;&#32771;&#34385;&#19968;&#19979;&#31867;&#20284;&#19979;&#38754;&#30340;&#35831;&#27714;&#65306;</p>
<p style="line-height: 1.50;">  &nbsp; http://example.org/file.php?file ... mple.org%2Fxss.html</p>
<p style="line-height: 1.50;">  &nbsp; &#36825;&#23601;&#23548;&#33268;&#20102;$content&#30340;&#20540;&#34987;&#27745;&#26579;&#30340;&#24773;&#24418;&#65292;&#30001;&#20110;&#36825;&#20010;&#20540;&#26159;&#36890;&#36807;&#38388;&#25509;&#26041;&#24335;&#24471;&#21040;&#30340;&#65292;&#22240;&#27492;&#24456;&#21487;&#33021;&#20250;&#24573;&#35270;&#36825;&#20010;&#20107;&#23454;&#12290;&#36825;&#20063;&#26159;&#28145;&#24230;&#38450;&#33539;&#21407;&#21017;&#20250;&#35270;&#25991;&#20214;&#31995;&#32479;&#20026;&#36828;&#31243;&#30340;&#25968;&#25454;&#28304;&#65292;&#21516;&#26102;&#20250;&#35270;$content&#30340;&#20540;&#20026;&#36755;&#20837;&#65292;&#36825;&#26679;&#20320;&#30340;&#36807;&#28388;&#26426;&#21046;&#20250;&#28508;&#22312;&#30340;&#36215;&#21040;&#25197;&#36716;&#20094;&#22372;&#30340;&#20316;&#29992;&#12290;</p>
<p style="line-height: 1.50;">  &nbsp; &#30001;&#20110;$content&#20540;&#26159;&#34987;&#27745;&#26579; &#30340;&#65292;&#23427;&#21487;&#33021;&#23548;&#33268;&#22810;&#31181;&#23433;&#20840;&#28431;&#27934;&#65292;&#21253;&#25324;&#36328;&#31449;&#33050;&#26412;&#28431;&#27934;&#21644;SQL&#27880;&#20837;&#28431;&#27934;&#12290;&#20363;&#22914;&#65292;&#19979;&#38754;&#26159;&#36328;&#31449;&#33050;&#26412;&#28431;&#27934;&#30340;&#31034;&#20363;&#65306;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;?php</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $contents = file_get_contents($_GET['filename']);</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; echo $contents;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; ?&gt;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &#35299;&#20915;&#26041;&#26696;&#26159;&#27704;&#36828;&#19981;&#35201;&#29992;&#34987;&#27745;&#26579;&#30340;&#25968;&#25454;&#21435;&#25351;&#21521;&#19968;&#20010;&#25991;&#20214;&#21517;&#12290;&#35201;&#22362;&#25345;&#36807;&#28388;&#36755;&#20837;&#65292;&#21516;&#26102;&#30830;&#20449;&#22312;&#25968;&#25454;&#25351;&#21521;&#19968;&#20010;&#25991;&#20214;&#21517;&#20043;&#21069;&#34987;&#36807;&#28388;&#21363;&#21487;&#65306;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;?php</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $clean = array();</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; /* Filter Input ($_GET['filename']) */</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $contents = file_get_contents($clean['filename']);</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; ?&gt;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &#23613;&#31649;&#26080;&#27861;&#20445;&#35777;$content&#20013;&#30340;&#25968;&#25454;&#23436;&#20840;&#27809;&#26377;&#38382;&#39064;&#65292;&#20294;&#36825;&#36824;&#26159;&#32473;&#20986;&#20102;&#19968;&#20010;&#21512;&#29702;&#30340;&#20445;&#35777;&#65292;&#21363;&#20320;&#35835;&#21462;&#30340;&#25991;&#20214;&#27491;&#26159;&#20320;&#24819;&#35201;&#35835;&#21462;&#30340;&#25991;&#20214;&#65292;&#32780;&#19981;&#26159;&#30001;&#25915;&#20987;&#32773;&#25351;&#23450;&#30340;&#12290;&#20026;&#21152;&#24378;&#36825;&#20010;&#27969;&#31243;&#30340;&#23433;&#20840;&#24615;&#65292;&#20320;&#21516;&#26679;&#38656;&#35201;&#25226;$content&#30475;&#25104;&#26159;&#36755;&#20837;&#65292;&#24182;&#22312;&#20351;&#29992;&#21069;&#23545;&#23427;&#36827;&#34892;&#36807;&#28388;&#12290;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &lt;?php</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $clean = array();</p>
<p style="line-height: 1.50;">  &nbsp; $html = array();</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; /* Filter Input ($_GET['filename']) */</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $contents = file_get_contents($clean['filename']);</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; /* Filter Input ($contents) */</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; $html['contents'] = htmlentities($clean['contents'], ENT_QUOTES, 'UTF-8');</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; echo $html['contents'];</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; ?&gt;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<p style="line-height: 1.50;">  &nbsp; &#19978;&#38754;&#30340;&#27969;&#31243;&#25552;&#20379;&#20102;&#38450;&#33539;&#22810;&#31181;&#25915;&#20987;&#30340;&#24378;&#26377;&#21147;&#30340;&#26041;&#27861;&#65292;&#21516;&#26102;&#22312;&#23454;&#38469;&#32534;&#31243;&#20013;&#25512;&#33616;&#20351;&#29992;&#12290;</p>
<p style="line-height: 1.50;">&nbsp;</p>
<hr noshade size=1 ><p style="line-height: 1.50;">&nbsp;</p>

</td></tr></table>

</body>
</html>
