<meta http-equiv="content-type" content="text/html; charset=gb2312"><FONT 
style="FONT-SIZE: 9pt; LINE-HEIGHT: 15pt"><B>使用约束</B><BR>1.使用&nbsp;primary&nbsp;key&nbsp;约束<BR>&nbsp;&nbsp;其值能唯一的标识表中的每一行。这样的一列或多列成为表的主键，通过它可强制表的实体完整性。<BR>&nbsp;<BR>&nbsp;&nbsp;job_id&nbsp;int&nbsp;primary&nbsp;key&nbsp;clustered<BR>&nbsp;&nbsp;<BR>&nbsp;&nbsp;emp_id&nbsp;empid&nbsp;constraint&nbsp;pk_emp_id&nbsp;primary&nbsp;key&nbsp;nonclustered<BR>2.使用foreign&nbsp;key&nbsp;约束<BR>&nbsp;&nbsp;&nbsp;约束引用其他的表<BR>&nbsp;&nbsp;&nbsp;job_id&nbsp;samllint&nbsp;not&nbsp;null&nbsp;&nbsp;references&nbsp;jobs(job_id)<BR>&nbsp;&nbsp;<BR>&nbsp;&nbsp;foreign&nbsp;key(job_id)&nbsp;references&nbsp;jobs(job_id)<BR>&nbsp;<BR>&nbsp;constraint&nbsp;fk_sales&nbsp;foreign&nbsp;key(stor_id,orde_num,title_id)<BR>&nbsp;references&nbsp;sales(stor_id,ord_num,title_id)<BR>3.使用unique&nbsp;约束<BR>&nbsp;&nbsp;unqiue约束用于强制非主键列的唯一性，允许存在空值（应该只有一个）<BR>&nbsp;&nbsp;person&nbsp;varchar(30)&nbsp;null&nbsp;unique&nbsp;nonclustered
<P></P>
<P>&nbsp;constraint&nbsp;u_store&nbsp;unique&nbsp;nonclustered(stor_name,city)<BR>4.使用default定义<BR>&nbsp;使用insert和update语句时，如果没有提供值，则使用默认值。<BR>&nbsp;<B>提供了默认值，&nbsp;&nbsp;用dbgrid&nbsp;编辑必须在onnewrecord&nbsp;事件加上默认值的赋值，否则提示错误<BR>&nbsp;‘row&nbsp;can&nbsp;not&nbsp;be&nbsp;located&nbsp;for&nbsp;updating.some&nbsp;values&nbsp;has&nbsp;been&nbsp;changed&nbsp;since&nbsp;it&nbsp;was&nbsp;last&nbsp;read&nbsp;'&nbsp;</B>&nbsp;<BR>&nbsp;default(getdate())<BR>&nbsp;创建一个产品价格表，并且设置产品的改价者为当时增修改数据的用户<BR>&nbsp;create&nbsp;table&nbsp;price<BR>(<BR>&nbsp;&nbsp;prod_id&nbsp;char(5),<BR>&nbsp;&nbsp;sup_id&nbsp;&nbsp;&nbsp;char(5),<BR>&nbsp;unit_price&nbsp;money,<BR>&nbsp;modifier&nbsp;char(5)<BR>&nbsp;modi_date&nbsp;datetime&nbsp;default&nbsp;getdate(),<BR>&nbsp;primary&nbsp;key(prod_id,sup_id)<BR>&nbsp;default&nbsp;user&nbsp;for&nbsp;modifier<BR>)<BR>5.使用check约束</P>
<P>&nbsp;&nbsp;check(min_lvl&gt;=10)&nbsp;&nbsp;<BR>&nbsp;&nbsp;check(max_lvl&lt;=250)</P>
<P>&nbsp;constraint&nbsp;ck_emp_id&nbsp;check&nbsp;(emp_id&nbsp;like&nbsp;'[a-z][a-z][a-z][1-9][0-9][0-9][0-9][0-9]'<BR>&nbsp;or&nbsp;emp_id&nbsp;like&nbsp;[a-z][a-z][1-9][0-9][0-9][0-9][0-9]')<BR>&nbsp;&nbsp;<BR>&nbsp;check&nbsp;(pub_id&nbsp;in&nbsp;('1389','0736','0877')&nbsp;or&nbsp;pub_id&nbsp;like'99[0-9][0-9]')<BR></P></FONT>