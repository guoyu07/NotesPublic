[MQTT](http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718013)
# Data Representation
Integer data values are 16 bits in big-endian order: the high order byte precedes the lower order byte. This means that a 16-bit word is presented on the network as Most Significant Byte (MSB), followed by Least Significant Byte (LSB).

# MQTT Control Packet Format
```
+-----------------------+-----------
|   Fixed header        |   All
+-----------------------+------------
|   Variable header     |   Some
+-----------------------+-----------
|   Payload             |   Some
+-----------------------+-----------
```

## Fixed Header
```
+--------------------------------------+
| bit  | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
+----------------------+---------------+
| Byte |    Control    |     Flags     |
|   1  |    Packet     |               |
+--------------------------------------+
|   2  |  Remaining Length             |
+--------------------------------------+
```
## Control Packet
1 byte = 4 bit = [0, 2^4 - 1]
```
Bit   7    6   5  4
+---------------------------------------------------------------
|CP|
+-----------------------------------------------------
| 0| Reseved    |         |
| 1| CONNECT    | C2S     |  
| 2| CONNACK    | S2C     | Connect ACK
| 3| PUBLISH    | C2S/S2C |  Publish message
| 4| PUBACK     | C2S/S2C | Publish ACK
| 5| PUBREC     | C2S/S2C | Publish Received
| 6| PUBREL     | C2S/S2C | Publish Release
| 7| PUBCOMP    | C2S/S2C | Publish Complete
| 8| SUBSCRIBE  | C2S     |
| 9| SUBACK     | S2C     | Subscribe ACK
|10| UNSUBSCRIBE| C2S     |
|11| UNSUBACK   | S2C     | Unsubscribe ACK
|12| PINGREQ    | C2S     | Ping Request
|13| PINGRESP   | S2C     | Ping Response
|14| DISCONNECT | C2S     | Client is disconnecting
|15| Reserved   |         |
+----------------------------------------------------
```
CP       : The value of conrol pakcet bit
C2S     : Client to Server
S2C     : Server to Client
## Flags
```
+----------------------------------------------------------------------+
|CP|Control Packet   |                    | Bit3 | Bit2 | Bit1 |  Bit0  |
+----------------------------------------------------------------------+
|
|           
| 3|  PUBLISH      |  Used in MQTT 3.1.1  | DUP  | QoS  | Qos  | RETAIN |
``` 
CP       : The value of conrol pakcet bit
DUP     : Duplicate delivery of a PUBLISH Control Packet
QoS     : PUBLISH Quality of Service
RETAIN  : PUBLISH Retain flag
